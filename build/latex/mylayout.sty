\ProvidesPackage{mylayout}

\graphicspath{{../../images/}}

\definecolor{chapternum}{gray}{0.3}
\definecolor{appendixchapternum}{gray}{0.8}
\definecolor{chaptertitle}{gray}{0.3}
\definecolor{section}{gray}{0.3}
\definecolor{subsection}{gray}{0.4}
\definecolor{desclabel}{gray}{0.2}

\maxtocdepth{chapter}

\def\gobble@spaces{\@ifnextchar\space{\@gobble\gobble@spaces}{}}
%\newcommand{\verseref}[1]{\mbox{}\marginpar{\vspace*{-0.5\marginparpush}\vspace*{1.2pt}\oldNumFont #1.}\gobble@spaces}
%\newcommand{\verseref}[1]{\mbox{}\marginpar{\vspace*{-6pt}\hspace*{10pt}\footSize #1.}\gobble@spaces}
\newcommand{\verseref}[1]{{\smaller\color{black!80} #1.}\newline}

\renewcommand{\chapterNumberSize}
  {\@setfontsize\chapterNumberSize{15}{15}}

\newcommand{\appendixChapterNumberSize}
  {\@setfontsize\appendixChapterNumberSize{20}{20}}

%\addtodef{\fronmatter}{}{%
%  \openright
%}

\addtodef{\mainmatter}{}{%
  \setlength{\parskip}{1.5em}%
  \setlength{\parindent}{0pt}%
}

\addtodef{\appendix}{}{%
  %\openright
  \setlength{\parskip}{0pt}%
  \setlength{\parindent}{15pt}%
}

\titlecontents{part}[\tocLeftWidth]
{%\addvspace{20pt}%
\normalsize\tocFont}%
{\contentsmargin{0pt}\lsstyle\color{chaptertitle}}
{\contentsmargin{0pt}}
{\hfill\normalsize\tocFont\thecontentspage}
[\addvspace{10pt}]

\makechapterstyle{frontmatter}{
  \chapterstyle{lowtitle}
  \setlength{\beforechapskip}{3\onelineskip}
  \setlength{\chapterTitleLeftSkip}{6pc}
}

\makechapterstyle{appendix}{
  \chapterstyle{lowtitle}
  \setlength{\beforechapskip}{0pt}
  \setlength{\chapterTitleLeftSkip}{2pc}
  \renewcommand\printchapternum{%
    \chapterNumberFont\appendixChapterNumberSize\color{appendixchapternum}%
    \hspace*{\chapterTitleLeftSkip}\thechapter%
  }
}

\setsubsecheadstyle{%
  \sectionFont\normalsize\bfseries\color{subsection}\memRTLraggedright%
}

\renewcommand\frontmatterChapterStyle{\chapterstyle{frontmatter}}
\renewcommand\mainmatterChapterStyle{\chapterstyle{hightitle}}
\renewcommand\appendixChapterStyle{\chapterstyle{appendix}}

\long\def\@part[#1]#2{%
  \M@gettitle{#1}%
  \phantomsection
  \ifnum \c@secnumdepth >-2\relax
  \refstepcounter{part}%
  \addcontentsline{toc}{part}%
  {\protect\partnumberline{\thepart}#1}%
  \mempartinfo{\thepart}{#1}{#2}%
  \else
  \addcontentsline{toc}{part}{#1}%
  \mempartinfo{}{#1}{#2}%
  \fi
  \partmark{#1}%
  {%
    \centering%
    \chapterTitleFont\chapterTitleSize\color{chaptertitle}\textls*{\MakeUppercase{#2}}%
    \global\thisparthastitletrue%
    \par%
  }%
\@endpart}
